<!DOCTYPE html>

<html xmlns:th="http://www.thymeleaf.org">

<head>
	<!-- Required meta tags -->
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

	<!-- Bootstrap core CSS -->
  <link th:href="@{/vendor/bootstrap/css/bootstrap.min.css}" rel="stylesheet">

  <!-- Custom styles for this template -->
  <link th:href="@{/css/formatting.css}" rel="stylesheet">
  
  <script src="https://kit.fontawesome.com/80eef9efe1.js" crossorigin="anonymous"></script>
  
  <script src="https://cdn.jsdelivr.net/npm/chart.js@2.8.0"></script>
  

</head>

<body>

<div class="d-flex" id="wrapper">

    <!-- Sidebar -->
    <div th:fragment="sidenav" class="bg-light border-right" id="sidebar-wrapper">
      <div class="sidebar-heading">
      <img src="/images/logo.png" width="215" height="135"><br>
      </div>
      <div class="list-group">
        <a th:href="@{/}" class="list-group-item list-group-item-action bg-light current">&nbsp<i class="fas fa-th-large"></i>&nbsp &nbspDashboard Home</a>
        <a th:href="@{/employees/new}" class="list-group-item list-group-item-action bg-light">&nbsp<i class="fas fa-users"></i>&nbsp &nbspManage Roles</a>
        <a th:href="@{/projects/new}" class="list-group-item list-group-item-action bg-light">&nbsp<i class="fas fa-align-justify"></i>&nbsp &nbspManage Projects</a>
        <a th:href="@{/tickets/new}" class="list-group-item list-group-item-action bg-light">&nbsp<i class="fas fa-list"></i>&nbsp &nbspManage Tickets</a>
        <a th:href="@{/}" class="list-group-item list-group-item-action bg-light">&nbsp<i class="fas fa-user"></i>&nbsp &nbspUser Profile</a>
      </div>
    </div>
    <!-- /#sidebar-wrapper -->

    <!-- Page Content -->
    <div id="page-content-wrapper">

      <nav th:replace="layouts :: topnav"></nav>
      
<!-- --------------------------------------------------------------- -->      
<!-- ------------------Body of the Page----------------------------- -->
<!-- --------------------------------------------------------------- -->
	<br><br>
      <div class="container-fluid">
      	<div class="container">
      	<div class="row">
			<div class="col-lg-6 card-columns d-flex justify-content-center">
  				<div class="card mb-3">
  					<canvas id="myPieChart" height="45" width="67.5"></canvas>
  					
  					<script>
  						var ticketData = "[[${ticketStatusCnt}]]"
  					</script>	
						
	  				<div class="card-body">
	    				<h5 class="card-title">&nbsp; Tickets By Status</h5>
	  				</div>
  				</div>
  			</div>
  			<div class="col-lg-6 card-columns d-flex justify-content-center">
  				<div class="card mb-3">
  					<canvas id="myPieChart3" height="45" width="67.5"></canvas>
  					
  					<script>
  						var ticketTypeData = "[[${ticketTypeCnt}]]"
  					</script>
  					
	  				<div class="card-body">
	    				<h5 class="card-title">&nbsp; Tickets By Type</h5>
	  				</div>
  				</div>
  				</div>
  			
		  	</div><br>
		  	
		  	<div class="row">
		  	<div class="col-lg-6 card-columns d-flex justify-content-center">
		  	<div class="card mb-3">
		  		<canvas id="myPieChart2" height="45" width="67.5"></canvas>
		  			<script>
  						var ticketPriorityData = "[[${ticketPriorityCnt}]]"
  					</script>
  					
		  		<div class="card-body">
		    		<h5 class="card-title">&nbsp; Tickets By Priority</h5>
		  		</div>
		  	</div>
		  	</div>
  			<div class="col-lg-6 card-columns d-flex justify-content-center">
		  	<div class="card mb-3">
		  		<canvas id="myPieChart4" height="45" width="67.5"></canvas>
		  		<div class="card-body">
		    		<h5 class="card-title">&nbsp; Tickets By Month</h5>
		  		</div>
		  	</div>
		  	</div>
		  	</div>
		  	
		  	<h3>Your Personnel<br><span>All the users in your database.</span></h3>
		  	<section>
				<div class="tbl-header">	  	
					<table cellpadding="0" cellspacing="0" border="0">
						<thead>
							<tr>
								<th>Title</th>
								<th>Priority</th>
								<th>Status</th>
							</tr>
						</thead>
					</table>
				</div>
				<div class="tbl-content">
				<table cellpadding="0" cellspacing="0" border="0">
					<tbody>
						<tr th:each="aTicket : ${ticketsList}">
							<td th:text="${aTicket.title}"/>
							<td th:text="${aTicket.priority}"/>
							<td th:text="${aTicket.status}"/>
						</tr>
					</tbody>
				</table>
				</div>
			</section>
		  </div>
		 </div>
    
	
      </div>
    </div>
    <!-- /#page-content-wrapper -->

  
  <!-- /#wrapper -->

	 <!-- Bootstrap core JavaScript -->
  <script th:src="@{/vendor/jquery/jquery.min.js}"></script>
  <script th:src="@{/vendor/bootstrap/js/bootstrap.bundle.min.js}"></script>
  
  <script type="text/javascript" th:src="@{js/myChart.js}"></script>

  <!-- Menu Toggle Script -->
  <script>
    $("#menu-toggle").click(function(e) {
      e.preventDefault();
      $("#wrapper").toggleClass("toggled");
    });
  </script>
	
</body>

</html>